{{> header}}

<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<script src="../../public/index.js"></script>

<div class="main__container">
    <div class="catalog__container">
        {{#if cart.products}}
        <div class="catalog__header">
            <h2 class="products__message">Carrito de compras</h2>
        </div>
        <div class="cart__container">
            {{#each cart.products}}
            <div class="item__container">
                <img src="{{this.image}}" alt="{{this.name}}" />
                <div>
                    <p>{{this.name}}</p>
                </div>
                <div class="cart__item__price">
                    <p>$ {{this.price}}</p>
                </div>
                <button name="btnQuitar" onclick="deleteProductToCart(`{{this.id}}`)" class="button button--delete">
                    Quitar del carrito
                </button>
            </div>
            {{/each}}
        </div>
        <div class="cart__footer">
            <p>TOTAL: ${{cart.total}}</p>
            <button name="btnVaciar" onclick="cleanCart(`{{user._id}}`)" class="button button--delete button--cart">
                Vaciar carrito
            </button>
            <button name="btnConfirmar" onclick="checkout()" class="button button--detail button--cart">
                Confirmar compra
            </button>
        </div>
        {{else}}
        <div class="catalog__header">
            <h2 class="products__message">Tu carrito de compras está vacío!</h2>
        </div>
        {{/if}}
    </div>
</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

{{> footer}}